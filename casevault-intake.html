<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CaseVault | PI Settlement Benchmarks for New England</title>
    <meta name="description" content="Free settlement calculator and benchmark data for personal injury attorneys. Access real settlement data from MA, CT, RI & NH.">
    <link rel="canonical" href="https://aibridges.org/casevault-intake">
    <script src="https://engagement-hooks-site.s3.amazonaws.com/casevault/data/settlements.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #0f172a; color: white; min-height: 100vh; }
        
        .nav { background: rgba(15, 23, 42, 0.95); padding: 16px 24px; display: flex; align-items: center; justify-content: space-between; position: fixed; top: 0; left: 0; right: 0; z-index: 100; backdrop-filter: blur(10px); border-bottom: 1px solid #334155; }
        .nav-logo { font-size: 20px; font-weight: 700; color: #818cf8; text-decoration: none; }
        .nav-links { display: flex; gap: 24px; }
        .nav-links a { color: #94a3b8; text-decoration: none; font-size: 14px; }
        .nav-links a:hover { color: white; }
        @media (max-width: 600px) { .nav-links { display: none; } }
        
        .container { max-width: 500px; margin: 0 auto; padding: 100px 24px 60px; }
        
        .header { text-align: center; margin-bottom: 40px; }
        .badge { display: inline-flex; align-items: center; gap: 8px; background: rgba(129, 140, 248, 0.15); border: 1px solid rgba(129, 140, 248, 0.3); padding: 8px 16px; border-radius: 30px; font-size: 13px; color: #a5b4fc; margin-bottom: 20px; }
        .badge-dot { width: 8px; height: 8px; background: #34d399; border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .header h1 { font-size: 32px; margin-bottom: 12px; }
        .header h1 span { background: linear-gradient(135deg, #818cf8, #c084fc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .header p { color: #94a3b8; line-height: 1.6; }
        
        .stats-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 32px; }
        .stat { background: #1e293b; border-radius: 12px; padding: 16px; text-align: center; border: 1px solid #334155; }
        .stat-value { font-size: 24px; font-weight: 700; color: #818cf8; }
        .stat-label { font-size: 11px; color: #64748b; margin-top: 4px; text-transform: uppercase; }
        @media (max-width: 500px) { .stats-row { grid-template-columns: repeat(2, 1fr); } }
        
        .card { background: #1e293b; border-radius: 16px; padding: 32px; border: 1px solid #334155; }
        .card h2 { font-size: 20px; margin-bottom: 8px; }
        .card > p { color: #94a3b8; font-size: 14px; margin-bottom: 24px; }
        
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; font-size: 14px; font-weight: 500; color: #e2e8f0; margin-bottom: 8px; }
        .form-group input, .form-group select { width: 100%; padding: 14px 16px; background: #0f172a; border: 1px solid #334155; border-radius: 8px; color: white; font-size: 16px; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: #818cf8; }
        .form-group input::placeholder { color: #64748b; }
        .form-group .hint { font-size: 12px; color: #64748b; margin-top: 6px; }
        
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        @media (max-width: 500px) { .form-row { grid-template-columns: 1fr; } }
        
        .btn { width: 100%; padding: 16px; background: linear-gradient(135deg, #818cf8, #a78bfa); border: none; border-radius: 10px; color: white; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(129, 140, 248, 0.4); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        
        .divider { display: flex; align-items: center; gap: 16px; margin: 24px 0; color: #64748b; font-size: 13px; }
        .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: #334155; }
        
        .info-box { background: rgba(129, 140, 248, 0.1); border: 1px solid rgba(129, 140, 248, 0.2); border-radius: 8px; padding: 16px; margin-bottom: 24px; }
        .info-box h4 { font-size: 14px; color: #a5b4fc; margin-bottom: 6px; }
        .info-box p { font-size: 13px; color: #94a3b8; line-height: 1.5; }
        
        .steps { display: flex; gap: 8px; margin-bottom: 24px; }
        .step { flex: 1; text-align: center; padding: 12px 8px; background: #0f172a; border-radius: 8px; border: 1px solid #334155; }
        .step.active { border-color: #818cf8; background: rgba(129, 140, 248, 0.1); }
        .step-num { font-size: 18px; font-weight: 700; color: #818cf8; }
        .step-label { font-size: 11px; color: #64748b; margin-top: 4px; }
        
        .success { display: none; text-align: center; padding: 40px 0; }
        .success h2 { color: #34d399; margin-bottom: 12px; }
        .success p { color: #94a3b8; margin-bottom: 24px; }
        
        .footer { text-align: center; padding: 40px 24px; color: #64748b; font-size: 13px; }
        .footer a { color: #818cf8; text-decoration: none; }
        
        /* Settlement form (step 2) */
        #step2 { display: none; }
        .amount-input { position: relative; }
        .amount-input span { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: #64748b; }
        .amount-input input { padding-left: 32px; }
    </style>
</head>
<body>
    <nav class="nav">
        <a href="casevault-intake.html" class="nav-logo">‚öñÔ∏è CaseVault</a>
        <div class="nav-links">
            <a href="casevault-calculator.html">Calculator</a>
            <a href="casevault-dashboard.html">Dashboard</a>
            <a href="/">AIBridges</a>
        </div>
    </nav>

    <div class="container">
        <div class="header">
            <div class="badge">
                <span class="badge-dot"></span>
                Settlement Intelligence
            </div>
            <h1>Access <span>Real Data</span></h1>
            <p>Get instant access to settlement benchmarks from New England PI cases. Register and contribute one case to unlock.</p>
        </div>

        <div class="stats-row">
            <div class="stat">
                <div class="stat-value" id="totalCases">--</div>
                <div class="stat-label">Settlements</div>
            </div>
            <div class="stat">
                <div class="stat-value">4</div>
                <div class="stat-label">States</div>
            </div>
            <div class="stat">
                <div class="stat-value">10</div>
                <div class="stat-label">Min Access</div>
            </div>
            <div class="stat">
                <div class="stat-value">Free</div>
                <div class="stat-label">Always</div>
            </div>
        </div>

        <div class="card">
            <div class="steps">
                <div class="step active" id="step1indicator">
                    <div class="step-num">1</div>
                    <div class="step-label">Register</div>
                </div>
                <div class="step" id="step2indicator">
                    <div class="step-num">2</div>
                    <div class="step-label">Contribute</div>
                </div>
                <div class="step" id="step3indicator">
                    <div class="step-num">3</div>
                    <div class="step-label">Access</div>
                </div>
            </div>

            <!-- Step 1: Register -->
            <div id="step1">
                <h2>Create Your Account</h2>
                <p>Quick registration ‚Äî no credit card required.</p>
                
                <form id="registerForm">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="name" placeholder="John Smith" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="email" placeholder="john@lawfirm.com" required>
                    </div>
                    <div class="form-group">
                        <label>Firm Name (optional)</label>
                        <input type="text" id="firm" placeholder="Smith & Associates">
                    </div>
                    <button type="submit" class="btn">Continue ‚Üí</button>
                </form>
            </div>

            <!-- Step 2: Contribute Settlement -->
            <div id="step2">
                <h2>Contribute One Settlement</h2>
                <p>Submit one anonymized settlement to unlock access.</p>
                
                <div class="info-box">
                    <h4>üîí 100% Anonymous</h4>
                    <p>No client names or case numbers. Data is bucketed and anonymized before storage.</p>
                </div>
                
                <form id="settlementForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>State</label>
                            <select id="state" required>
                                <option value="">Select...</option>
                                <option value="MA">Massachusetts</option>
                                <option value="CT">Connecticut</option>
                                <option value="RI">Rhode Island</option>
                                <option value="NH">New Hampshire</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Year</label>
                            <select id="year" required>
                                <option value="">Select...</option>
                                <option value="2026">2026</option>
                                <option value="2025">2025</option>
                                <option value="2024">2024</option>
                                <option value="2023">2023</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Settlement Amount</label>
                        <div class="amount-input">
                            <span>$</span>
                            <input type="text" id="amount" placeholder="150,000" required>
                        </div>
                        <div class="hint">Total settlement (not including attorney fees)</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Proof of Settlement (Required)</label>
                        <div id="uploadZone" style="border: 2px dashed #334155; border-radius: 8px; padding: 24px; text-align: center; cursor: pointer; transition: all 0.2s;">
                            <input type="file" id="proofImage" accept="image/*,.pdf" style="display: none;" required>
                            <div id="uploadPlaceholder">
                                <div style="font-size: 32px; margin-bottom: 8px;">üìÑ</div>
                                <div style="color: #94a3b8; font-size: 14px;">Click or drag to upload</div>
                                <div style="color: #64748b; font-size: 12px; margin-top: 4px;">Settlement letter, check, or closing statement</div>
                            </div>
                            <div id="uploadPreview" style="display: none;">
                                <img id="previewImg" style="max-width: 100%; max-height: 150px; border-radius: 4px;">
                                <div id="previewName" style="color: #94a3b8; font-size: 13px; margin-top: 8px;"></div>
                                <div id="ocrResult" style="color: #34d399; font-size: 14px; margin-top: 8px; display: none;">‚úì Amount detected: <strong id="ocrAmount"></strong></div>
                            </div>
                        </div>
                        <div class="hint">‚ö†Ô∏è Redact client names & case numbers. Only the amount needs to be visible.</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Case Type</label>
                            <select id="caseType" required>
                                <option value="">Select...</option>
                                <option value="auto">Auto Accident</option>
                                <option value="truck">Truck Accident</option>
                                <option value="motorcycle">Motorcycle</option>
                                <option value="pedestrian">Pedestrian</option>
                                <option value="slip_fall">Slip & Fall</option>
                                <option value="med_mal">Medical Malpractice</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Injury Severity</label>
                            <select id="severity" required>
                                <option value="">Select...</option>
                                <option value="soft_tissue">Soft Tissue</option>
                                <option value="fracture">Fracture</option>
                                <option value="surgery">Surgery Required</option>
                                <option value="tbi">TBI</option>
                                <option value="spinal">Spinal</option>
                                <option value="fatal">Fatal</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn">Submit & Get Access ‚Üí</button>
                </form>
            </div>

            <!-- Success -->
            <div id="successMessage" class="success">
                <h2>‚úÖ Access Granted!</h2>
                <p>You have 10 minutes of full access to the dashboard and calculator.</p>
                <a href="casevault-dashboard.html" class="btn">Open Dashboard ‚Üí</a>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>¬© 2026 CaseVault by <a href="/">AIBridges</a> | Cranston, RI</p>
        <p style="margin-top: 8px;">Settlement data is anonymized. Not legal advice.</p>
    </footer>

    <script>
        const DATA = window.CASEVAULT_DATA || null;
        
        // Update stats
        if (DATA && DATA.totalSettlements) {
            document.getElementById('totalCases').textContent = DATA.totalSettlements.toLocaleString();
        }

        // Check if already authenticated
        const token = localStorage.getItem('casevault_token');
        const expires = localStorage.getItem('casevault_expires');
        if (token && expires && Date.now() < parseInt(expires)) {
            window.location.href = 'casevault-dashboard.html';
        }

        // Step 1: Register
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const firm = document.getElementById('firm').value;
            
            // Store registration locally
            localStorage.setItem('casevault_user', JSON.stringify({ name, email, firm }));
            
            // Move to step 2
            document.getElementById('step1').style.display = 'none';
            document.getElementById('step2').style.display = 'block';
            document.getElementById('step1indicator').classList.remove('active');
            document.getElementById('step2indicator').classList.add('active');
        });

        // Step 2: Submit settlement
        document.getElementById('settlementForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const settlement = {
                state: document.getElementById('state').value,
                year: document.getElementById('year').value,
                amount: document.getElementById('amount').value.replace(/[,$]/g, ''),
                caseType: document.getElementById('caseType').value,
                severity: document.getElementById('severity').value,
                submittedAt: new Date().toISOString()
            };
            
            // Validate amount
            const amt = parseInt(settlement.amount);
            if (isNaN(amt) || amt < 1000 || amt > 50000000) {
                alert('Please enter a valid settlement amount between $1,000 and $50,000,000');
                return;
            }
            
            // Store settlement (would send to API in production)
            console.log('Settlement submitted:', settlement);
            
            // Grant 10 min access
            const expiresAt = Date.now() + (10 * 60 * 1000); // 10 minutes
            localStorage.setItem('casevault_token', 'access_' + Date.now());
            localStorage.setItem('casevault_expires', expiresAt.toString());
            
            // Show success
            document.getElementById('step2').style.display = 'none';
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('step2indicator').classList.remove('active');
            document.getElementById('step3indicator').classList.add('active');
        });

        // Format amount on blur
        document.getElementById('amount').addEventListener('blur', function() {
            const val = this.value.replace(/[,$]/g, '');
            const num = parseInt(val);
            if (!isNaN(num)) {
                this.value = num.toLocaleString();
            }
        });

        // File upload handling
        const uploadZone = document.getElementById('uploadZone');
        const proofInput = document.getElementById('proofImage');
        const uploadPlaceholder = document.getElementById('uploadPlaceholder');
        const uploadPreview = document.getElementById('uploadPreview');
        const previewImg = document.getElementById('previewImg');
        const previewName = document.getElementById('previewName');
        
        uploadZone.addEventListener('click', () => proofInput.click());
        
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.style.borderColor = '#818cf8';
            uploadZone.style.background = 'rgba(129, 140, 248, 0.1)';
        });
        
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.style.borderColor = '#334155';
            uploadZone.style.background = 'transparent';
        });
        
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.style.borderColor = '#334155';
            uploadZone.style.background = 'transparent';
            if (e.dataTransfer.files.length) {
                proofInput.files = e.dataTransfer.files;
                handleFileSelect(e.dataTransfer.files[0]);
            }
        });
        
        proofInput.addEventListener('change', (e) => {
            if (e.target.files.length) {
                handleFileSelect(e.target.files[0]);
            }
        });
        
        function handleFileSelect(file) {
            if (!file) return;
            
            // Validate file type
            if (!file.type.match(/image.*/) && file.type !== 'application/pdf') {
                alert('Please upload an image or PDF file');
                return;
            }
            
            // Validate file size (max 10MB)
            if (file.size > 10 * 1024 * 1024) {
                alert('File too large. Maximum size is 10MB.');
                return;
            }
            
            previewName.textContent = file.name;
            
            if (file.type.match(/image.*/)) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    previewImg.src = e.target.result;
                    previewImg.style.display = 'block';
                    uploadPlaceholder.style.display = 'none';
                    uploadPreview.style.display = 'block';
                    uploadZone.style.borderColor = '#34d399';
                    
                    // Simple OCR simulation - in production would use real OCR API
                    // For now, just show success
                    setTimeout(() => {
                        const amountField = document.getElementById('amount');
                        if (amountField.value) {
                            document.getElementById('ocrResult').style.display = 'block';
                            document.getElementById('ocrAmount').textContent = '$' + amountField.value;
                        }
                    }, 500);
                };
                reader.readAsDataURL(file);
            } else {
                // PDF - show icon instead
                previewImg.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23818cf8"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6zm-1 2l5 5h-5V4zM6 20V4h6v6h6v10H6z"/></svg>';
                previewImg.style.display = 'block';
                previewImg.style.width = '64px';
                uploadPlaceholder.style.display = 'none';
                uploadPreview.style.display = 'block';
                uploadZone.style.borderColor = '#34d399';
            }
        }
    </script>
</body>
</html>
