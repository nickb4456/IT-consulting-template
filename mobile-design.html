<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>iOS Design Patterns That Go Viral | AIBridges</title>
  <style>
    :root {
      --ios-blue: #007AFF;
      --ios-green: #34C759;
      --ios-red: #FF3B30;
      --ios-orange: #FF9500;
      --ios-gray: #8E8E93;
      --ios-gray-2: #636366;
      --ios-gray-3: #48484A;
      --ios-gray-4: #3A3A3C;
      --ios-gray-5: #2C2C2E;
      --ios-gray-6: #1C1C1E;
      --ios-bg: #000000;
      --ios-card: #1C1C1E;
      --ios-separator: rgba(84,84,88,0.65);
    }
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
      background: var(--ios-bg);
      color: #fff;
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }
    
    /* Hero */
    .hero {
      min-height: 60vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 4rem 2rem;
      text-align: center;
      position: relative;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(0,122,255,0.12) 0%, transparent 70%);
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      pointer-events: none;
    }
    
    .hero h1 {
      font-size: clamp(2.5rem, 8vw, 4rem);
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 1rem;
    }
    
    .hero p {
      font-size: 1.125rem;
      color: var(--ios-gray);
      max-width: 500px;
    }
    
    /* Section */
    .section {
      padding: 4rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }
    
    .section-header {
      margin-bottom: 2rem;
    }
    
    .section-label {
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--ios-blue);
      margin-bottom: 0.5rem;
    }
    
    .section-title {
      font-size: 2rem;
      font-weight: 700;
      letter-spacing: -0.02em;
    }
    
    /* Pattern Grid */
    .pattern-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.5rem;
    }
    
    .pattern-card {
      background: var(--ios-card);
      border-radius: 16px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      border: 1px solid transparent;
    }
    
    .pattern-card:hover {
      transform: translateY(-2px);
      border-color: var(--ios-gray-4);
    }
    
    .pattern-card.active {
      border-color: var(--ios-blue);
    }
    
    .pattern-preview {
      height: 200px;
      background: var(--ios-gray-5);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    
    .pattern-info {
      padding: 1.25rem;
    }
    
    .pattern-name {
      font-size: 1.125rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .pattern-name .viral-badge {
      font-size: 0.625rem;
      padding: 0.15rem 0.4rem;
      background: var(--ios-red);
      border-radius: 4px;
      font-weight: 600;
    }
    
    .pattern-desc {
      font-size: 0.8125rem;
      color: var(--ios-gray);
    }
    
    /* Code Panel */
    .code-panel {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--ios-gray-6);
      border-top: 1px solid var(--ios-gray-4);
      transform: translateY(100%);
      transition: transform 0.3s ease;
      max-height: 50vh;
      display: flex;
      flex-direction: column;
      z-index: 100;
    }
    
    .code-panel.open {
      transform: translateY(0);
    }
    
    .code-panel-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      border-bottom: 1px solid var(--ios-gray-4);
      flex-shrink: 0;
    }
    
    .code-panel-title {
      font-size: 1rem;
      font-weight: 600;
    }
    
    .code-tabs {
      display: flex;
      gap: 0.25rem;
    }
    
    .code-tab {
      padding: 0.5rem 1rem;
      font-size: 0.8125rem;
      font-weight: 500;
      color: var(--ios-gray);
      background: transparent;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-family: inherit;
    }
    
    .code-tab:hover {
      background: var(--ios-gray-5);
    }
    
    .code-tab.active {
      background: var(--ios-gray-4);
      color: #fff;
    }
    
    .close-btn {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: var(--ios-gray-4);
      border: none;
      color: var(--ios-gray);
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .close-btn:hover {
      background: var(--ios-gray-3);
      color: #fff;
    }
    
    .code-content {
      flex: 1;
      overflow: auto;
      padding: 1.5rem;
    }
    
    .code-block {
      display: none;
      font-family: 'SF Mono', Menlo, Monaco, monospace;
      font-size: 0.8125rem;
      line-height: 1.7;
      white-space: pre;
      color: #e5e5e7;
    }
    
    .code-block.active {
      display: block;
    }
    
    .code-block .k { color: #FF7AB2; }
    .code-block .s { color: #FF8170; }
    .code-block .n { color: #D0BF69; }
    .code-block .c { color: #6C7986; }
    .code-block .p { color: #ACF2E4; }
    .code-block .f { color: #67B7A4; }
    
    /* Copy Button */
    .copy-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      padding: 0.5rem 1rem;
      background: var(--ios-gray-4);
      border: none;
      border-radius: 6px;
      color: #fff;
      font-size: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      font-family: inherit;
    }
    
    .copy-btn:hover {
      background: var(--ios-gray-3);
    }
    
    .code-wrapper {
      position: relative;
    }
    
    /* Live Demos */
    
    /* 1. Shimmer */
    .shimmer-demo { width: 180px; }
    .shimmer-line {
      height: 14px;
      background: linear-gradient(90deg, var(--ios-gray-5) 0%, var(--ios-gray-4) 50%, var(--ios-gray-5) 100%);
      background-size: 200% 100%;
      animation: shimmer 1.5s ease-in-out infinite;
      border-radius: 4px;
      margin-bottom: 8px;
    }
    .shimmer-line:last-child { width: 60%; }
    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    /* 2. Pull to Refresh */
    .pull-demo {
      width: 200px;
      height: 160px;
      background: var(--ios-gray-6);
      border-radius: 12px;
      overflow: hidden;
      position: relative;
    }
    .pull-indicator {
      position: absolute;
      top: 12px;
      left: 50%;
      transform: translateX(-50%);
      width: 24px;
      height: 24px;
      border: 2px solid var(--ios-gray-3);
      border-top-color: var(--ios-blue);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: translateX(-50%) rotate(360deg); } }
    .pull-content { margin-top: 50px; padding: 10px; }
    .pull-row {
      height: 36px;
      background: var(--ios-gray-5);
      border-radius: 6px;
      margin-bottom: 6px;
    }
    
    /* 3. Haptic Button */
    .haptic-btn {
      padding: 14px 28px;
      background: var(--ios-blue);
      border: none;
      border-radius: 12px;
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s;
      font-family: inherit;
    }
    .haptic-btn:active { transform: scale(0.95); }
    
    /* 4. Modal Sheet */
    .sheet-demo {
      width: 220px;
      height: 180px;
      position: relative;
    }
    .sheet-bg {
      position: absolute;
      inset: 0;
      background: var(--ios-gray-6);
      border-radius: 12px;
      transform: scale(0.92) translateY(-10px);
      opacity: 0.5;
    }
    .sheet-card {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 140px;
      background: var(--ios-gray-5);
      border-radius: 16px 16px 0 0;
      padding: 10px 14px;
    }
    .sheet-handle {
      width: 32px;
      height: 4px;
      background: var(--ios-gray-3);
      border-radius: 2px;
      margin: 0 auto 12px;
    }
    .sheet-row {
      padding: 10px;
      background: var(--ios-gray-4);
      border-radius: 8px;
      margin-bottom: 6px;
      font-size: 13px;
    }
    
    /* 5. Glassmorphism */
    .glass-demo {
      width: 220px;
      height: 150px;
      position: relative;
    }
    .glass-bg {
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 16px;
    }
    .glass-card {
      position: absolute;
      top: 25px;
      left: 18px;
      right: 18px;
      bottom: 25px;
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 12px;
      padding: 14px;
    }
    .glass-label { font-size: 11px; opacity: 0.8; }
    .glass-value { font-size: 28px; font-weight: 700; margin-top: 4px; }
    
    /* 6. Segmented Control */
    .segment-demo { width: 240px; }
    .segment-control {
      display: flex;
      background: var(--ios-gray-5);
      border-radius: 8px;
      padding: 2px;
      position: relative;
    }
    .segment-pill {
      position: absolute;
      top: 2px;
      left: 2px;
      width: calc(33.33% - 2px);
      height: calc(100% - 4px);
      background: var(--ios-gray-3);
      border-radius: 6px;
      transition: transform 0.2s ease;
      box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }
    .segment-btn {
      flex: 1;
      padding: 7px 14px;
      border: none;
      background: transparent;
      color: var(--ios-gray);
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      position: relative;
      z-index: 1;
      transition: color 0.2s;
      font-family: inherit;
    }
    .segment-btn.active { color: #fff; }
    
    /* 7. Spring Animation */
    .spring-demo { display: flex; gap: 16px; }
    .spring-card {
      width: 60px;
      height: 60px;
      border-radius: 16px;
      animation: springBounce 2s ease-in-out infinite;
    }
    .spring-card:nth-child(1) { background: var(--ios-green); }
    .spring-card:nth-child(2) { background: var(--ios-orange); animation-delay: 0.15s; }
    .spring-card:nth-child(3) { background: var(--ios-blue); animation-delay: 0.3s; }
    @keyframes springBounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-16px); }
    }
    
    /* 8. Context Menu */
    .context-demo { position: relative; display: flex; gap: 16px; align-items: center; }
    .context-item {
      width: 100px;
      height: 100px;
      background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
    }
    .context-menu {
      width: 160px;
      background: rgba(40,40,40,0.95);
      backdrop-filter: blur(40px);
      border-radius: 12px;
      overflow: hidden;
    }
    .context-opt {
      padding: 10px 14px;
      font-size: 13px;
      border-bottom: 1px solid var(--ios-separator);
      display: flex;
      justify-content: space-between;
    }
    .context-opt:last-child { border: none; color: var(--ios-red); }
    
    /* 9. Badge */
    .badge-demo { display: flex; gap: 20px; }
    .app-icon {
      width: 54px;
      height: 54px;
      border-radius: 12px;
      position: relative;
      background: linear-gradient(180deg, #5AC8FA 0%, #007AFF 100%);
    }
    .app-icon:nth-child(2) { background: linear-gradient(180deg, #34C759 0%, #30B353 100%); }
    .app-icon:nth-child(3) { background: linear-gradient(180deg, #8E8E93 0%, #636366 100%); }
    .badge {
      position: absolute;
      top: -5px;
      right: -5px;
      min-width: 20px;
      height: 20px;
      background: var(--ios-red);
      border-radius: 10px;
      font-size: 12px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 5px;
    }
    
    /* 10. Swipe Actions */
    .swipe-demo { width: 260px; }
    .swipe-row {
      display: flex;
      position: relative;
      border-radius: 10px;
      overflow: hidden;
    }
    .swipe-actions {
      display: flex;
      position: absolute;
      right: 0;
      top: 0;
      bottom: 0;
    }
    .swipe-action {
      width: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 18px;
    }
    .swipe-action.archive { background: var(--ios-blue); }
    .swipe-action.delete { background: var(--ios-red); }
    .swipe-content {
      flex: 1;
      padding: 14px 16px;
      background: var(--ios-gray-5);
      display: flex;
      align-items: center;
      gap: 12px;
      transform: translateX(-60px);
      transition: transform 0.3s ease;
    }
    .swipe-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea, #764ba2);
    }
    .swipe-text { font-size: 14px; }
    .swipe-text span { display: block; color: var(--ios-gray); font-size: 12px; margin-top: 2px; }
    
    /* 11. Like Button */
    .like-demo { position: relative; }
    .like-btn {
      width: 60px;
      height: 60px;
      border: none;
      background: transparent;
      cursor: pointer;
      position: relative;
    }
    .like-heart {
      font-size: 32px;
      transition: transform 0.1s;
    }
    .like-btn:active .like-heart { transform: scale(0.8); }
    .like-btn.liked .like-heart { animation: heartPop 0.3s ease; }
    @keyframes heartPop {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
    .like-particles {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }
    .particle {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--ios-red);
      top: 50%;
      left: 50%;
      opacity: 0;
    }
    .like-btn.liked .particle {
      animation: particleBurst 0.6s ease forwards;
    }
    .particle:nth-child(1) { --angle: 0deg; --dist: 30px; }
    .particle:nth-child(2) { --angle: 45deg; --dist: 35px; }
    .particle:nth-child(3) { --angle: 90deg; --dist: 30px; }
    .particle:nth-child(4) { --angle: 135deg; --dist: 35px; }
    .particle:nth-child(5) { --angle: 180deg; --dist: 30px; }
    .particle:nth-child(6) { --angle: 225deg; --dist: 35px; }
    .particle:nth-child(7) { --angle: 270deg; --dist: 30px; }
    .particle:nth-child(8) { --angle: 315deg; --dist: 35px; }
    @keyframes particleBurst {
      0% { opacity: 1; transform: translate(-50%, -50%) rotate(var(--angle)) translateY(0); }
      100% { opacity: 0; transform: translate(-50%, -50%) rotate(var(--angle)) translateY(calc(var(--dist) * -1)); }
    }
    
    /* 12. Progress Ring */
    .progress-demo { display: flex; align-items: center; gap: 24px; }
    .progress-ring {
      width: 80px;
      height: 80px;
      position: relative;
    }
    .progress-ring svg {
      transform: rotate(-90deg);
      width: 80px;
      height: 80px;
    }
    .progress-ring circle {
      fill: none;
      stroke-width: 6;
      stroke-linecap: round;
    }
    .progress-bg { stroke: var(--ios-gray-4); }
    .progress-fill {
      stroke: url(#progressGradient);
      stroke-dasharray: 226;
      stroke-dashoffset: 56;
      animation: progressFill 2s ease-in-out infinite alternate;
    }
    @keyframes progressFill {
      0% { stroke-dashoffset: 180; }
      100% { stroke-dashoffset: 40; }
    }
    .progress-value {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 700;
    }
    
    /* 13. Toast */
    .toast-demo { position: relative; width: 260px; height: 100px; }
    .toast {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--ios-gray-5);
      border-radius: 12px;
      padding: 12px 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      animation: toastSlide 3s ease infinite;
    }
    @keyframes toastSlide {
      0%, 10% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
      20%, 80% { opacity: 1; transform: translateX(-50%) translateY(0); }
      90%, 100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
    }
    .toast-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--ios-green);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }
    .toast-text { font-size: 14px; font-weight: 500; }
    
    /* 14. Tab Bar */
    .tabbar-demo { width: 280px; }
    .tabbar {
      display: flex;
      background: var(--ios-gray-6);
      border-radius: 20px;
      padding: 8px;
      position: relative;
    }
    .tabbar-indicator {
      position: absolute;
      width: calc(20% - 4px);
      height: calc(100% - 16px);
      background: var(--ios-blue);
      border-radius: 14px;
      top: 8px;
      left: 8px;
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .tabbar-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
      padding: 8px 0;
      border: none;
      background: transparent;
      color: var(--ios-gray);
      font-size: 10px;
      cursor: pointer;
      position: relative;
      z-index: 1;
      transition: color 0.2s, transform 0.2s;
      font-family: inherit;
    }
    .tabbar-item.active { color: #fff; }
    .tabbar-item:active { transform: scale(0.9); }
    .tabbar-item span { font-size: 20px; }
    
    /* 15. Search Morph */
    .search-demo { width: 260px; height: 50px; position: relative; }
    .search-container {
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      display: flex;
      align-items: center;
      background: var(--ios-gray-5);
      border-radius: 12px;
      overflow: hidden;
      width: 44px;
      height: 44px;
      transition: width 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .search-container.expanded { width: 100%; }
    .search-icon {
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      flex-shrink: 0;
      cursor: pointer;
    }
    .search-input {
      flex: 1;
      background: transparent;
      border: none;
      color: #fff;
      font-size: 15px;
      outline: none;
      padding-right: 12px;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .search-container.expanded .search-input { opacity: 1; }
    .search-cancel {
      padding: 0 12px;
      color: var(--ios-blue);
      font-size: 14px;
      cursor: pointer;
      white-space: nowrap;
      opacity: 0;
      transform: translateX(20px);
      transition: opacity 0.2s, transform 0.2s;
    }
    .search-container.expanded + .search-cancel {
      opacity: 1;
      transform: translateX(0);
    }
    
    /* Footer */
    footer {
      padding: 3rem 2rem;
      text-align: center;
      border-top: 1px solid var(--ios-separator);
      color: var(--ios-gray);
      font-size: 0.875rem;
    }
    
    @media (max-width: 768px) {
      .code-panel { max-height: 60vh; }
      .context-menu { display: none; }
    }
  </style>
</head>
<body>
  <section class="hero">
    <h1>iOS Design Patterns<br>That Go Viral</h1>
    <p>15 patterns with live demos. Click any to see the code ‚Äî CSS + SwiftUI.</p>
  </section>
  
  <section class="section">
    <div class="section-header">
      <div class="section-label">Pattern Library</div>
      <h2 class="section-title">Click to view code</h2>
    </div>
    
    <div class="pattern-grid">
      <!-- 1. Shimmer -->
      <div class="pattern-card" data-pattern="shimmer">
        <div class="pattern-preview">
          <div class="shimmer-demo">
            <div class="shimmer-line"></div>
            <div class="shimmer-line"></div>
            <div class="shimmer-line"></div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Shimmer Loading <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Skeleton screens reduce perceived wait time by 40%</div>
        </div>
      </div>
      
      <!-- 2. Pull Refresh -->
      <div class="pattern-card" data-pattern="pull">
        <div class="pattern-preview">
          <div class="pull-demo">
            <div class="pull-indicator"></div>
            <div class="pull-content">
              <div class="pull-row"></div>
              <div class="pull-row"></div>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Pull to Refresh <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Custom animations create brand identity</div>
        </div>
      </div>
      
      <!-- 3. Haptic -->
      <div class="pattern-card" data-pattern="haptic">
        <div class="pattern-preview">
          <button class="haptic-btn">Press Me</button>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Haptic Feedback <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Tactile vibrations on interaction. Pure dopamine.</div>
        </div>
      </div>
      
      <!-- 4. Sheet -->
      <div class="pattern-card" data-pattern="sheet">
        <div class="pattern-preview">
          <div class="sheet-demo">
            <div class="sheet-bg"></div>
            <div class="sheet-card">
              <div class="sheet-handle"></div>
              <div class="sheet-row">Share to...</div>
              <div class="sheet-row">Copy Link</div>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Modal Sheet</div>
          <div class="pattern-desc">iOS 15+ presentation. Swipe down to dismiss.</div>
        </div>
      </div>
      
      <!-- 5. Glass -->
      <div class="pattern-card" data-pattern="glass">
        <div class="pattern-preview">
          <div class="glass-demo">
            <div class="glass-bg"></div>
            <div class="glass-card">
              <div class="glass-label">BALANCE</div>
              <div class="glass-value">$4,280</div>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Glassmorphism <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Frosted glass with blur. Control Center style.</div>
        </div>
      </div>
      
      <!-- 6. Segment -->
      <div class="pattern-card" data-pattern="segment">
        <div class="pattern-preview">
          <div class="segment-demo">
            <div class="segment-control">
              <div class="segment-pill"></div>
              <button class="segment-btn active">Day</button>
              <button class="segment-btn">Week</button>
              <button class="segment-btn">Month</button>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Segmented Control</div>
          <div class="pattern-desc">Sliding pill indicator. Feels physical.</div>
        </div>
      </div>
      
      <!-- 7. Spring -->
      <div class="pattern-card" data-pattern="spring">
        <div class="pattern-preview">
          <div class="spring-demo">
            <div class="spring-card"></div>
            <div class="spring-card"></div>
            <div class="spring-card"></div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Spring Physics <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Natural motion with overshoot. Makes UI feel alive.</div>
        </div>
      </div>
      
      <!-- 8. Context -->
      <div class="pattern-card" data-pattern="context">
        <div class="pattern-preview">
          <div class="context-demo">
            <div class="context-item">üì∏</div>
            <div class="context-menu">
              <div class="context-opt"><span>Copy</span><span>‚åòC</span></div>
              <div class="context-opt"><span>Share</span><span>‚Üó</span></div>
              <div class="context-opt"><span>Delete</span></div>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Context Menu</div>
          <div class="pattern-desc">Long-press reveals options. Background blurs.</div>
        </div>
      </div>
      
      <!-- 9. Badge -->
      <div class="pattern-card" data-pattern="badge">
        <div class="pattern-preview">
          <div class="badge-demo">
            <div class="app-icon"><div class="badge">3</div></div>
            <div class="app-icon"><div class="badge">99+</div></div>
            <div class="app-icon"><div class="badge">1</div></div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Badge Animation <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Scale-in with overshoot. Drives engagement.</div>
        </div>
      </div>
      
      <!-- 10. Swipe Actions -->
      <div class="pattern-card" data-pattern="swipe">
        <div class="pattern-preview">
          <div class="swipe-demo">
            <div class="swipe-row">
              <div class="swipe-actions">
                <div class="swipe-action archive">üìÅ</div>
                <div class="swipe-action delete">üóë</div>
              </div>
              <div class="swipe-content">
                <div class="swipe-avatar"></div>
                <div class="swipe-text">John Appleseed<span>Hey, are you free tomorrow?</span></div>
              </div>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Swipe Actions <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">iOS Mail style. Reveal contextual actions on swipe.</div>
        </div>
      </div>
      
      <!-- 11. Like Button -->
      <div class="pattern-card" data-pattern="like">
        <div class="pattern-preview">
          <div class="like-demo">
            <button class="like-btn" onclick="this.classList.toggle('liked')">
              <span class="like-heart">‚ù§Ô∏è</span>
              <div class="like-particles">
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
                <div class="particle"></div>
              </div>
            </button>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Like Burst <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Particle explosion on tap. Pure dopamine hit.</div>
        </div>
      </div>
      
      <!-- 12. Progress Ring -->
      <div class="pattern-card" data-pattern="progress">
        <div class="pattern-preview">
          <div class="progress-demo">
            <div class="progress-ring">
              <svg viewBox="0 0 80 80">
                <defs>
                  <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" stop-color="#34C759"/>
                    <stop offset="100%" stop-color="#30D158"/>
                  </linearGradient>
                </defs>
                <circle class="progress-bg" cx="40" cy="40" r="36"/>
                <circle class="progress-fill" cx="40" cy="40" r="36"/>
              </svg>
              <div class="progress-value">75%</div>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Progress Ring</div>
          <div class="pattern-desc">Gradient stroke with animated fill. Fitness app staple.</div>
        </div>
      </div>
      
      <!-- 13. Toast -->
      <div class="pattern-card" data-pattern="toast">
        <div class="pattern-preview">
          <div class="toast-demo">
            <div class="toast">
              <div class="toast-icon">‚úì</div>
              <div class="toast-text">Message sent</div>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Toast Notification <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Non-blocking feedback. Slides in, auto-dismisses.</div>
        </div>
      </div>
      
      <!-- 14. Tab Bar -->
      <div class="pattern-card" data-pattern="tabbar">
        <div class="pattern-preview">
          <div class="tabbar-demo">
            <div class="tabbar">
              <div class="tabbar-indicator"></div>
              <button class="tabbar-item active" onclick="selectTab(this, 0)"><span>üè†</span>Home</button>
              <button class="tabbar-item" onclick="selectTab(this, 1)"><span>üîç</span>Search</button>
              <button class="tabbar-item" onclick="selectTab(this, 2)"><span>‚ûï</span>Add</button>
              <button class="tabbar-item" onclick="selectTab(this, 3)"><span>üí¨</span>Chat</button>
              <button class="tabbar-item" onclick="selectTab(this, 4)"><span>üë§</span>Profile</button>
            </div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Animated Tab Bar <span class="viral-badge">VIRAL</span></div>
          <div class="pattern-desc">Bouncy indicator follows selection. Spring physics.</div>
        </div>
      </div>
      
      <!-- 15. Search Morph -->
      <div class="pattern-card" data-pattern="search">
        <div class="pattern-preview">
          <div class="search-demo">
            <div class="search-container" onclick="this.classList.add('expanded'); this.querySelector('input').focus()">
              <div class="search-icon">üîç</div>
              <input type="text" class="search-input" placeholder="Search...">
            </div>
            <div class="search-cancel" onclick="this.previousElementSibling.classList.remove('expanded')">Cancel</div>
          </div>
        </div>
        <div class="pattern-info">
          <div class="pattern-name">Morphing Search</div>
          <div class="pattern-desc">Icon expands into full search. Spring animation.</div>
        </div>
      </div>
    </div>
  </section>
  
  <footer>
    <p>Built by AIBridges ‚Ä¢ Inspired by Apple HIG</p>
  </footer>
  
  <!-- Code Panel -->
  <div class="code-panel" id="codePanel">
    <div class="code-panel-header">
      <div class="code-panel-title" id="panelTitle">Shimmer Loading</div>
      <div class="code-tabs">
        <button class="code-tab active" data-lang="css">CSS</button>
        <button class="code-tab" data-lang="swift">SwiftUI</button>
      </div>
      <button class="close-btn" onclick="closePanel()">√ó</button>
    </div>
    <div class="code-content">
      <div class="code-wrapper">
        <button class="copy-btn" onclick="copyCode()">Copy</button>
        <pre class="code-block active" id="cssCode"></pre>
        <pre class="code-block" id="swiftCode"></pre>
      </div>
    </div>
  </div>
  
  <script>
    const patterns = {
      shimmer: {
        name: 'Shimmer Loading',
        css: `.shimmer {
  background: linear-gradient(
    90deg,
    #2C2C2E 0%,
    #3A3A3C 50%,
    #2C2C2E 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
  border-radius: 4px;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Usage */
.skeleton-line {
  height: 16px;
  margin-bottom: 8px;
}

.skeleton-line:last-child {
  width: 60%;
}`,
        swift: `import SwiftUI

struct ShimmerModifier: ViewModifier {
    @State private var phase: CGFloat = 0
    
    func body(content: Content) -> some View {
        content
            .overlay(
                LinearGradient(
                    colors: [
                        .clear,
                        .white.opacity(0.4),
                        .clear
                    ],
                    startPoint: .leading,
                    endPoint: .trailing
                )
                .rotationEffect(.degrees(20))
                .offset(x: phase)
            )
            .mask(content)
            .onAppear {
                withAnimation(
                    .linear(duration: 1.5)
                    .repeatForever(autoreverses: false)
                ) {
                    phase = 400
                }
            }
    }
}

extension View {
    func shimmer() -> some View {
        modifier(ShimmerModifier())
    }
}

// Usage
RoundedRectangle(cornerRadius: 4)
    .fill(Color.gray.opacity(0.3))
    .frame(height: 16)
    .shimmer()`
      },
      
      pull: {
        name: 'Pull to Refresh',
        css: `.refresh-indicator {
  width: 28px;
  height: 28px;
  border: 2px solid #48484A;
  border-top-color: #007AFF;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Custom pull animation */
.pull-container {
  overflow: hidden;
  position: relative;
}

.pull-content {
  transition: transform 0.3s ease;
}

.pulling .pull-content {
  transform: translateY(60px);
}`,
        swift: `import SwiftUI

struct PullToRefresh: View {
    @State private var isRefreshing = false
    
    var body: some View {
        List {
            ForEach(0..<20) { i in
                Text("Row \\(i)")
            }
        }
        .refreshable {
            // Haptic feedback
            let generator = UIImpactFeedbackGenerator(style: .medium)
            generator.impactOccurred()
            
            // Async refresh
            await refresh()
        }
    }
    
    func refresh() async {
        try? await Task.sleep(nanoseconds: 2_000_000_000)
    }
}

// Custom indicator
struct CustomRefreshView: View {
    var body: some View {
        ProgressView()
            .progressViewStyle(.circular)
            .tint(.blue)
            .scaleEffect(1.2)
    }
}`
      },
      
      haptic: {
        name: 'Haptic Feedback',
        css: `/* CSS can't trigger haptics, but scale feedback helps */
.haptic-btn {
  padding: 16px 32px;
  background: #007AFF;
  border: none;
  border-radius: 14px;
  color: white;
  font-size: 17px;
  font-weight: 600;
  cursor: pointer;
  transition: transform 0.1s ease;
  -webkit-tap-highlight-color: transparent;
}

.haptic-btn:active {
  transform: scale(0.96);
}

/* For web, use Vibration API */
// navigator.vibrate(10);`,
        swift: `import SwiftUI

struct HapticButton: View {
    var body: some View {
        Button("Press Me") {
            // Light impact
            let light = UIImpactFeedbackGenerator(style: .light)
            light.impactOccurred()
        }
        .buttonStyle(ScaleButtonStyle())
    }
}

struct ScaleButtonStyle: ButtonStyle {
    func makeBody(configuration: Configuration) -> some View {
        configuration.label
            .padding(.horizontal, 32)
            .padding(.vertical, 16)
            .background(Color.blue)
            .foregroundColor(.white)
            .font(.headline)
            .cornerRadius(14)
            .scaleEffect(configuration.isPressed ? 0.96 : 1)
            .animation(.easeInOut(duration: 0.1), value: configuration.isPressed)
    }
}

// Haptic types
UIImpactFeedbackGenerator(style: .light)   // Subtle
UIImpactFeedbackGenerator(style: .medium)  // Standard
UIImpactFeedbackGenerator(style: .heavy)   // Strong
UINotificationFeedbackGenerator()          // Success/Error/Warning
UISelectionFeedbackGenerator()             // Selection tick`
      },
      
      sheet: {
        name: 'Modal Sheet',
        css: `/* iOS-style sheet presentation */
.sheet-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
}

.sheet-container {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #2C2C2E;
  border-radius: 20px 20px 0 0;
  padding: 12px 16px 34px;
  transform: translateY(100%);
  transition: transform 0.3s ease;
}

.sheet-container.open {
  transform: translateY(0);
}

.sheet-handle {
  width: 36px;
  height: 5px;
  background: #48484A;
  border-radius: 3px;
  margin: 0 auto 16px;
}

/* Background scale effect */
.main-content.sheet-open {
  transform: scale(0.94) translateY(-20px);
  border-radius: 12px;
  overflow: hidden;
}`,
        swift: `import SwiftUI

struct SheetExample: View {
    @State private var showSheet = false
    
    var body: some View {
        Button("Show Sheet") {
            showSheet = true
        }
        .sheet(isPresented: $showSheet) {
            SheetContent()
                .presentationDetents([.medium, .large])
                .presentationDragIndicator(.visible)
                .presentationCornerRadius(20)
        }
    }
}

struct SheetContent: View {
    @Environment(\\.dismiss) var dismiss
    
    var body: some View {
        NavigationStack {
            List {
                Button("Share") { }
                Button("Copy Link") { }
                Button("Delete", role: .destructive) { }
            }
            .navigationTitle("Actions")
            .navigationBarTitleDisplayMode(.inline)
            .toolbar {
                ToolbarItem(placement: .cancellationAction) {
                    Button("Done") { dismiss() }
                }
            }
        }
    }
}`
      },
      
      glass: {
        name: 'Glassmorphism',
        css: `.glass-card {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 16px;
  padding: 20px;
}

/* Dark glass variant */
.glass-dark {
  background: rgba(0, 0, 0, 0.3);
  backdrop-filter: blur(40px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Gradient background for depth */
.glass-container {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 40px;
  border-radius: 24px;
}`,
        swift: `import SwiftUI

struct GlassCard: View {
    var body: some View {
        ZStack {
            // Gradient background
            LinearGradient(
                colors: [.purple, .blue],
                startPoint: .topLeading,
                endPoint: .bottomTrailing
            )
            .ignoresSafeArea()
            
            // Glass card
            VStack(alignment: .leading) {
                Text("BALANCE")
                    .font(.caption)
                    .opacity(0.8)
                Text("$4,280")
                    .font(.largeTitle.bold())
            }
            .padding(20)
            .frame(maxWidth: .infinity, alignment: .leading)
            .background(.ultraThinMaterial)
            .cornerRadius(16)
            .padding(40)
        }
    }
}

// Material options:
// .ultraThinMaterial  - Most transparent
// .thinMaterial
// .regularMaterial
// .thickMaterial
// .ultraThickMaterial - Most opaque`
      },
      
      segment: {
        name: 'Segmented Control',
        css: `.segment-control {
  display: flex;
  background: #2C2C2E;
  border-radius: 9px;
  padding: 2px;
  position: relative;
}

.segment-pill {
  position: absolute;
  top: 2px;
  height: calc(100% - 4px);
  background: #48484A;
  border-radius: 7px;
  transition: transform 0.2s ease, width 0.2s ease;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

.segment-btn {
  flex: 1;
  padding: 8px 16px;
  border: none;
  background: transparent;
  color: #8E8E93;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  position: relative;
  z-index: 1;
  transition: color 0.2s;
}

.segment-btn.active {
  color: #fff;
}

/* JS to move pill */
// pill.style.transform = \`translateX(\${index * 100}%)\`;`,
        swift: `import SwiftUI

struct SegmentedExample: View {
    @State private var selection = 0
    let options = ["Day", "Week", "Month"]
    
    var body: some View {
        Picker("Time", selection: $selection) {
            ForEach(0..<options.count, id: \\.self) { i in
                Text(options[i]).tag(i)
            }
        }
        .pickerStyle(.segmented)
    }
}

// Custom animated segment
struct CustomSegment: View {
    @Binding var selection: Int
    let options: [String]
    @Namespace private var namespace
    
    var body: some View {
        HStack(spacing: 0) {
            ForEach(0..<options.count, id: \\.self) { i in
                Button(options[i]) {
                    withAnimation(.spring(response: 0.3)) {
                        selection = i
                    }
                }
                .padding(.vertical, 8)
                .padding(.horizontal, 16)
                .background {
                    if selection == i {
                        RoundedRectangle(cornerRadius: 7)
                            .fill(Color.gray.opacity(0.3))
                            .matchedGeometryEffect(id: "pill", in: namespace)
                    }
                }
                .foregroundColor(selection == i ? .white : .gray)
            }
        }
        .padding(2)
        .background(Color.gray.opacity(0.2))
        .cornerRadius(9)
    }
}`
      },
      
      spring: {
        name: 'Spring Physics',
        css: `/* CSS approximation of spring physics */
.spring-card {
  animation: springBounce 2s ease-in-out infinite;
}

@keyframes springBounce {
  0%, 100% { transform: translateY(0); }
  40% { transform: translateY(-20px); }
  60% { transform: translateY(-18px); }  /* Slight overshoot settle */
}

/* CSS spring() function (limited support) */
.spring-element {
  transition: transform 0.5s;
  transition-timing-function: 
    cubic-bezier(0.34, 1.56, 0.64, 1);  /* Overshoot */
}

/* Better: linear() for custom easing */
.spring-linear {
  transition-timing-function: linear(
    0, 0.01, 0.04 1.5%, 0.161 3.2%, 
    0.815 9.4%, 1.05 12%, 1.1 13.3%,
    1.1 14.7%, 1.08 16.6%, 0.99 23%,
    1.01 35%, 1 50%, 1 100%
  );
}`,
        swift: `import SwiftUI

struct SpringExample: View {
    @State private var isAnimating = false
    
    var body: some View {
        Circle()
            .fill(Color.green)
            .frame(width: 80, height: 80)
            .offset(y: isAnimating ? -100 : 0)
            .onAppear {
                withAnimation(
                    .spring(
                        response: 0.5,      // Duration
                        dampingFraction: 0.6, // Bounciness (0-1)
                        blendDuration: 0
                    ).repeatForever()
                ) {
                    isAnimating = true
                }
            }
    }
}

// Spring presets
.spring()  // Default
.spring(response: 0.3, dampingFraction: 0.5)  // Bouncy
.spring(response: 0.6, dampingFraction: 0.8)  // Smooth
.interactiveSpring()  // For gestures

// iOS 17+ spring
.spring(duration: 0.5, bounce: 0.3)  // New API`
      },
      
      context: {
        name: 'Context Menu',
        css: `.context-menu {
  position: absolute;
  background: rgba(30, 30, 30, 0.9);
  backdrop-filter: blur(50px);
  -webkit-backdrop-filter: blur(50px);
  border-radius: 14px;
  overflow: hidden;
  min-width: 200px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.4);
}

.context-option {
  padding: 12px 16px;
  display: flex;
  justify-content: space-between;
  font-size: 15px;
  cursor: pointer;
  border-bottom: 1px solid rgba(84,84,88,0.65);
}

.context-option:last-child {
  border: none;
}

.context-option:hover {
  background: rgba(255,255,255,0.1);
}

.context-option.destructive {
  color: #FF3B30;
}`,
        swift: `import SwiftUI

struct ContextMenuExample: View {
    var body: some View {
        Image(systemName: "photo")
            .font(.system(size: 60))
            .frame(width: 120, height: 120)
            .background(
                LinearGradient(
                    colors: [.red, .orange],
                    startPoint: .topLeading,
                    endPoint: .bottomTrailing
                )
            )
            .cornerRadius(20)
            .contextMenu {
                Button {
                    UIPasteboard.general.image = UIImage()
                } label: {
                    Label("Copy", systemImage: "doc.on.doc")
                }
                
                Button {
                    // Share
                } label: {
                    Label("Share", systemImage: "square.and.arrow.up")
                }
                
                Divider()
                
                Button(role: .destructive) {
                    // Delete
                } label: {
                    Label("Delete", systemImage: "trash")
                }
            } preview: {
                // Custom preview
                Image(systemName: "photo")
                    .resizable()
                    .frame(width: 300, height: 300)
            }
    }
}`
      },
      
      badge: {
        name: 'Badge Animation',
        css: `.app-icon {
  position: relative;
  width: 60px;
  height: 60px;
}

.badge {
  position: absolute;
  top: -6px;
  right: -6px;
  min-width: 22px;
  height: 22px;
  background: #FF3B30;
  border-radius: 11px;
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 6px;
  color: white;
  animation: badgePop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes badgePop {
  0% { transform: scale(0); }
  70% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

/* Update animation */
.badge.updated {
  animation: badgeUpdate 0.2s ease;
}

@keyframes badgeUpdate {
  50% { transform: scale(1.15); }
}`,
        swift: `import SwiftUI

struct BadgeView: View {
    let count: Int
    @State private var animate = false
    
    var body: some View {
        ZStack {
            // App icon
            RoundedRectangle(cornerRadius: 14)
                .fill(LinearGradient(
                    colors: [.cyan, .blue],
                    startPoint: .top,
                    endPoint: .bottom
                ))
                .frame(width: 60, height: 60)
            
            // Badge
            if count > 0 {
                Text(count > 99 ? "99+" : "\\(count)")
                    .font(.caption.bold())
                    .foregroundColor(.white)
                    .padding(.horizontal, 6)
                    .frame(minWidth: 22, minHeight: 22)
                    .background(Color.red)
                    .clipShape(Capsule())
                    .offset(x: 25, y: -25)
                    .scaleEffect(animate ? 1 : 0)
                    .onAppear {
                        withAnimation(.spring(response: 0.3, dampingFraction: 0.6)) {
                            animate = true
                        }
                    }
            }
        }
    }
}

// TabView badge
TabView {
    HomeView()
        .tabItem { Label("Home", systemImage: "house") }
        .badge(3)  // Built-in badge
}`
      },
      
      swipe: {
        name: 'Swipe Actions',
        css: `/* iOS Mail-style swipe actions */
.swipe-row {
  position: relative;
  overflow: hidden;
  border-radius: 10px;
}

.swipe-content {
  display: flex;
  align-items: center;
  padding: 16px;
  background: #2C2C2E;
  transition: transform 0.3s ease;
}

.swipe-actions {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  display: flex;
}

.swipe-action {
  width: 70px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 20px;
}

.swipe-action.archive { background: #007AFF; }
.swipe-action.delete { background: #FF3B30; }
.swipe-action.flag { background: #FF9500; }

/* When swiped */
.swipe-row.swiped .swipe-content {
  transform: translateX(-140px);
}

/* Swipe further to auto-trigger */
.swipe-row.triggered .swipe-content {
  transform: translateX(-100%);
}`,
        swift: `import SwiftUI

struct SwipeActionsExample: View {
    @State private var messages = ["Meeting tomorrow", "Project update", "Lunch?"]
    
    var body: some View {
        List {
            ForEach(messages, id: \\.self) { msg in
                Text(msg)
                    .swipeActions(edge: .trailing) {
                        Button(role: .destructive) {
                            // Delete
                        } label: {
                            Label("Delete", systemImage: "trash")
                        }
                        
                        Button {
                            // Archive
                        } label: {
                            Label("Archive", systemImage: "archivebox")
                        }
                        .tint(.blue)
                    }
                    .swipeActions(edge: .leading) {
                        Button {
                            // Pin
                        } label: {
                            Label("Pin", systemImage: "pin")
                        }
                        .tint(.orange)
                    }
            }
        }
    }
}

// Full swipe to delete
.swipeActions(edge: .trailing, allowsFullSwipe: true) {
    Button(role: .destructive) { }
        label: { Label("Delete", systemImage: "trash") }
}`
      },
      
      like: {
        name: 'Like Burst',
        css: `/* Heart button with particle burst */
.like-btn {
  position: relative;
  width: 60px;
  height: 60px;
  border: none;
  background: transparent;
  cursor: pointer;
}

.like-heart {
  font-size: 32px;
  transition: transform 0.1s;
}

.like-btn:active .like-heart {
  transform: scale(0.8);
}

.like-btn.liked .like-heart {
  animation: heartPop 0.3s ease;
}

@keyframes heartPop {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

/* Particles */
.particle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #FF3B30;
  top: 50%;
  left: 50%;
  opacity: 0;
}

.like-btn.liked .particle {
  animation: particleBurst 0.6s ease forwards;
}

@keyframes particleBurst {
  0% { 
    opacity: 1; 
    transform: translate(-50%, -50%) scale(0);
  }
  100% { 
    opacity: 0; 
    transform: translate(-50%, -50%) 
               rotate(var(--angle)) 
               translateY(-35px) 
               scale(1);
  }
}

/* Set angles for each particle */
.particle:nth-child(1) { --angle: 0deg; }
.particle:nth-child(2) { --angle: 45deg; }
.particle:nth-child(3) { --angle: 90deg; }
/* ... etc */`,
        swift: `import SwiftUI

struct LikeButton: View {
    @State private var isLiked = false
    @State private var particles: [Particle] = []
    
    var body: some View {
        ZStack {
            // Particles
            ForEach(particles) { p in
                Circle()
                    .fill(Color.red)
                    .frame(width: 8, height: 8)
                    .offset(p.offset)
                    .opacity(p.opacity)
            }
            
            // Heart
            Image(systemName: isLiked ? "heart.fill" : "heart")
                .font(.system(size: 32))
                .foregroundColor(isLiked ? .red : .gray)
                .scaleEffect(isLiked ? 1.0 : 1.0)
        }
        .onTapGesture {
            withAnimation(.spring(response: 0.3, dampingFraction: 0.6)) {
                isLiked.toggle()
            }
            
            if isLiked {
                // Haptic
                UIImpactFeedbackGenerator(style: .light).impactOccurred()
                // Spawn particles
                spawnParticles()
            }
        }
    }
    
    func spawnParticles() {
        for i in 0..<8 {
            let angle = Double(i) * .pi / 4
            let particle = Particle(
                id: UUID(),
                angle: angle
            )
            particles.append(particle)
            
            withAnimation(.easeOut(duration: 0.6)) {
                // Animate outward
            }
        }
        
        // Remove after animation
        DispatchQueue.main.asyncAfter(deadline: .now() + 0.6) {
            particles.removeAll()
        }
    }
}`
      },
      
      progress: {
        name: 'Progress Ring',
        css: `/* Circular progress with gradient */
.progress-ring {
  width: 100px;
  height: 100px;
  position: relative;
}

.progress-ring svg {
  transform: rotate(-90deg);
}

.progress-ring circle {
  fill: none;
  stroke-width: 8;
  stroke-linecap: round;
}

.progress-bg {
  stroke: #3A3A3C;
}

.progress-fill {
  stroke: url(#gradient);
  stroke-dasharray: 283;  /* 2 * œÄ * r */
  stroke-dashoffset: 70;  /* 283 * (1 - 0.75) for 75% */
  transition: stroke-dashoffset 0.5s ease;
}

/* SVG gradient definition */
<linearGradient id="gradient">
  <stop offset="0%" stop-color="#34C759"/>
  <stop offset="100%" stop-color="#30D158"/>
</linearGradient>

/* Center value */
.progress-value {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  font-weight: 700;
}`,
        swift: `import SwiftUI

struct ProgressRing: View {
    let progress: Double  // 0.0 to 1.0
    let lineWidth: CGFloat = 10
    
    var body: some View {
        ZStack {
            // Background ring
            Circle()
                .stroke(Color.gray.opacity(0.3), lineWidth: lineWidth)
            
            // Progress ring
            Circle()
                .trim(from: 0, to: progress)
                .stroke(
                    AngularGradient(
                        colors: [.green, .green.opacity(0.5)],
                        center: .center
                    ),
                    style: StrokeStyle(
                        lineWidth: lineWidth,
                        lineCap: .round
                    )
                )
                .rotationEffect(.degrees(-90))
                .animation(.spring(), value: progress)
            
            // Center text
            Text("\\(Int(progress * 100))%")
                .font(.title2.bold())
        }
        .frame(width: 100, height: 100)
    }
}

// Activity rings style
struct ActivityRings: View {
    var body: some View {
        ZStack {
            ProgressRing(progress: 0.8)
            ProgressRing(progress: 0.6)
                .frame(width: 75, height: 75)
            ProgressRing(progress: 0.4)
                .frame(width: 50, height: 50)
        }
    }
}`
      },
      
      toast: {
        name: 'Toast Notification',
        css: `/* Slide-in toast notification */
.toast {
  position: fixed;
  top: 50px;
  left: 50%;
  transform: translateX(-50%) translateY(-100px);
  background: #2C2C2E;
  border-radius: 14px;
  padding: 14px 24px;
  display: flex;
  align-items: center;
  gap: 12px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.4);
  opacity: 0;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  z-index: 1000;
}

.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.toast-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.toast-icon.success { background: #34C759; }
.toast-icon.error { background: #FF3B30; }
.toast-icon.warning { background: #FF9500; }

.toast-text {
  font-size: 15px;
  font-weight: 500;
}

/* Auto-dismiss with CSS animation */
.toast.auto-dismiss {
  animation: toastLife 3s ease forwards;
}

@keyframes toastLife {
  0%, 10% { opacity: 0; transform: translateX(-50%) translateY(-100px); }
  20%, 80% { opacity: 1; transform: translateX(-50%) translateY(0); }
  100% { opacity: 0; transform: translateX(-50%) translateY(-100px); }
}`,
        swift: `import SwiftUI

struct ToastView: View {
    @Binding var isShowing: Bool
    let message: String
    let type: ToastType
    
    enum ToastType {
        case success, error, warning
        
        var color: Color {
            switch self {
            case .success: return .green
            case .error: return .red
            case .warning: return .orange
            }
        }
        
        var icon: String {
            switch self {
            case .success: return "checkmark"
            case .error: return "xmark"
            case .warning: return "exclamationmark"
            }
        }
    }
    
    var body: some View {
        if isShowing {
            HStack(spacing: 12) {
                Image(systemName: type.icon)
                    .foregroundColor(.white)
                    .frame(width: 28, height: 28)
                    .background(type.color)
                    .clipShape(Circle())
                
                Text(message)
                    .font(.subheadline.weight(.medium))
            }
            .padding(.horizontal, 20)
            .padding(.vertical, 14)
            .background(.ultraThinMaterial)
            .cornerRadius(14)
            .shadow(radius: 10)
            .transition(.move(edge: .top).combined(with: .opacity))
            .onAppear {
                DispatchQueue.main.asyncAfter(deadline: .now() + 2) {
                    withAnimation { isShowing = false }
                }
            }
        }
    }
}

// Usage
struct ContentView: View {
    @State private var showToast = false
    
    var body: some View {
        ZStack(alignment: .top) {
            Button("Show Toast") { 
                withAnimation { showToast = true }
            }
            
            ToastView(isShowing: $showToast, message: "Saved!", type: .success)
                .padding(.top, 50)
        }
    }
}`
      },
      
      tabbar: {
        name: 'Animated Tab Bar',
        css: `/* Custom tab bar with animated indicator */
.tabbar {
  display: flex;
  background: #1C1C1E;
  border-radius: 24px;
  padding: 8px;
  position: relative;
}

.tabbar-indicator {
  position: absolute;
  width: calc(20% - 6px);
  height: calc(100% - 16px);
  background: #007AFF;
  border-radius: 18px;
  top: 8px;
  left: 8px;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Move indicator based on active tab */
.tabbar[data-active="1"] .tabbar-indicator { transform: translateX(100%); }
.tabbar[data-active="2"] .tabbar-indicator { transform: translateX(200%); }
.tabbar[data-active="3"] .tabbar-indicator { transform: translateX(300%); }
.tabbar[data-active="4"] .tabbar-indicator { transform: translateX(400%); }

.tabbar-item {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 10px 0;
  border: none;
  background: transparent;
  color: #8E8E93;
  font-size: 11px;
  cursor: pointer;
  position: relative;
  z-index: 1;
  transition: color 0.2s, transform 0.15s;
}

.tabbar-item.active {
  color: #fff;
}

.tabbar-item:active {
  transform: scale(0.9);
}

.tabbar-item .icon {
  font-size: 22px;
  transition: transform 0.2s;
}

.tabbar-item.active .icon {
  animation: iconBounce 0.3s ease;
}

@keyframes iconBounce {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.2); }
}`,
        swift: `import SwiftUI

struct AnimatedTabBar: View {
    @State private var selected = 0
    @Namespace private var namespace
    
    let tabs = [
        ("house.fill", "Home"),
        ("magnifyingglass", "Search"),
        ("plus.circle.fill", "Add"),
        ("bubble.left.fill", "Chat"),
        ("person.fill", "Profile")
    ]
    
    var body: some View {
        HStack {
            ForEach(0..<tabs.count, id: \\.self) { i in
                Button {
                    withAnimation(.spring(response: 0.3, dampingFraction: 0.7)) {
                        selected = i
                    }
                    UIImpactFeedbackGenerator(style: .light).impactOccurred()
                } label: {
                    VStack(spacing: 4) {
                        Image(systemName: tabs[i].0)
                            .font(.system(size: 22))
                        Text(tabs[i].1)
                            .font(.caption2)
                    }
                    .foregroundColor(selected == i ? .white : .gray)
                    .frame(maxWidth: .infinity)
                    .padding(.vertical, 10)
                    .background {
                        if selected == i {
                            RoundedRectangle(cornerRadius: 18)
                                .fill(Color.blue)
                                .matchedGeometryEffect(id: "bg", in: namespace)
                        }
                    }
                }
            }
        }
        .padding(8)
        .background(Color(.systemGray6))
        .cornerRadius(24)
    }
}`
      },
      
      search: {
        name: 'Morphing Search',
        css: `/* Search icon that morphs into search bar */
.search-container {
  position: relative;
  display: flex;
  align-items: center;
  background: #2C2C2E;
  border-radius: 12px;
  width: 44px;
  height: 44px;
  overflow: hidden;
  transition: width 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.search-container.expanded {
  width: 280px;
}

.search-icon {
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
  cursor: pointer;
}

.search-input {
  flex: 1;
  background: transparent;
  border: none;
  color: #fff;
  font-size: 16px;
  outline: none;
  padding-right: 16px;
  opacity: 0;
  transition: opacity 0.2s 0.1s;
}

.search-container.expanded .search-input {
  opacity: 1;
}

/* Cancel button */
.search-cancel {
  position: absolute;
  right: -60px;
  color: #007AFF;
  font-size: 15px;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.2s, right 0.3s;
}

.search-container.expanded ~ .search-cancel {
  right: -70px;
  opacity: 1;
}`,
        swift: `import SwiftUI

struct MorphingSearch: View {
    @State private var isExpanded = false
    @State private var searchText = ""
    @FocusState private var isFocused: Bool
    
    var body: some View {
        HStack {
            HStack {
                Image(systemName: "magnifyingglass")
                    .foregroundColor(.gray)
                    .frame(width: 44, height: 44)
                
                if isExpanded {
                    TextField("Search...", text: $searchText)
                        .focused($isFocused)
                        .transition(.opacity)
                }
            }
            .frame(width: isExpanded ? 280 : 44, height: 44)
            .background(Color(.systemGray5))
            .cornerRadius(12)
            .onTapGesture {
                withAnimation(.spring(response: 0.3, dampingFraction: 0.8)) {
                    isExpanded = true
                    isFocused = true
                }
            }
            
            if isExpanded {
                Button("Cancel") {
                    withAnimation(.spring(response: 0.3, dampingFraction: 0.8)) {
                        isExpanded = false
                        searchText = ""
                        isFocused = false
                    }
                }
                .foregroundColor(.blue)
                .transition(.move(edge: .trailing).combined(with: .opacity))
            }
        }
    }
}

// In NavigationStack
.searchable(text: $searchText, placement: .navigationBarDrawer)
.searchScopes($scope) {
    Text("All").tag(SearchScope.all)
    Text("Recent").tag(SearchScope.recent)
}`
      }
    };
    
    let currentPattern = null;
    let currentLang = 'css';
    
    document.querySelectorAll('.pattern-card').forEach(card => {
      card.addEventListener('click', () => {
        const patternId = card.dataset.pattern;
        openPanel(patternId);
        
        document.querySelectorAll('.pattern-card').forEach(c => c.classList.remove('active'));
        card.classList.add('active');
      });
    });
    
    document.querySelectorAll('.code-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const lang = tab.dataset.lang;
        switchLang(lang);
      });
    });
    
    function openPanel(patternId) {
      currentPattern = patterns[patternId];
      document.getElementById('panelTitle').textContent = currentPattern.name;
      document.getElementById('cssCode').textContent = currentPattern.css;
      document.getElementById('swiftCode').textContent = currentPattern.swift;
      document.getElementById('codePanel').classList.add('open');
      switchLang('css');
    }
    
    function closePanel() {
      document.getElementById('codePanel').classList.remove('open');
      document.querySelectorAll('.pattern-card').forEach(c => c.classList.remove('active'));
    }
    
    function switchLang(lang) {
      currentLang = lang;
      document.querySelectorAll('.code-tab').forEach(t => t.classList.remove('active'));
      document.querySelector(`.code-tab[data-lang="${lang}"]`).classList.add('active');
      document.querySelectorAll('.code-block').forEach(b => b.classList.remove('active'));
      document.getElementById(lang === 'css' ? 'cssCode' : 'swiftCode').classList.add('active');
    }
    
    function copyCode() {
      const code = currentLang === 'css' ? currentPattern.css : currentPattern.swift;
      navigator.clipboard.writeText(code).then(() => {
        const btn = document.querySelector('.copy-btn');
        btn.textContent = 'Copied!';
        setTimeout(() => btn.textContent = 'Copy', 1500);
      });
    }
    
    // Close on escape
    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') closePanel();
    });
    
    // Tab bar selection
    function selectTab(btn, index) {
      const tabbar = btn.closest('.tabbar');
      const indicator = tabbar.querySelector('.tabbar-indicator');
      tabbar.querySelectorAll('.tabbar-item').forEach(t => t.classList.remove('active'));
      btn.classList.add('active');
      indicator.style.transform = `translateX(${index * 100}%)`;
    }
  </script>
</body>
</html>
